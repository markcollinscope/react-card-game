{"ast":null,"code":"import CardHand from './CardHand';\nimport DeckAPI from './DeckAPI';\nexport default class GameEngine {\n  constructor() {\n    this.deckAPI = undefined;\n    this.hand = undefined;\n    this.total = undefined;\n\n    this.numericValue = c => {\n      return GameEngine.values[c.value];\n    };\n\n    this.start = async () => {\n      this.deckId = await this.deckAPI.newDeck();\n      this.hand = new CardHand();\n      this.total = 0;\n    };\n\n    this.drawCard = async () => {\n      this.doChecks();\n      let card = await this.deckAPI.drawCard();\n      this.hand.addCard(card);\n      this.total += this.numericValue(card);\n    };\n\n    this.deckAPI = new DeckAPI();\n  }\n\n  doChecks() {\n    if (!this.hand || this.total === undefined) throw Error(\"Must call start() before other methods on GameEngine\");\n  }\n\n  get total() {\n    this.doChecks();\n    return this.total;\n  }\n\n  get hand() {\n    this.doChecks();\n    return this.hand.cards;\n  }\n\n  get nCardsInHand() {\n    this.doChecks();\n    return this.hand.nCards;\n  }\n\n}\nGameEngine.values = {\n  \"2\": 2,\n  \"3\": 3,\n  \"4\": 4,\n  \"5\": 5,\n  \"6\": 6,\n  \"7\": 7,\n  \"8\": 8,\n  \"9\": 9,\n  \"0\": 10,\n  \"JACK\": 10,\n  \"QUEEN\": 10,\n  \"KING\": 10,\n  \"ACE\": 11\n};","map":{"version":3,"sources":["/home/mark/GIT/GITHUB/react-card-game/src/GameEngine.js"],"names":["CardHand","DeckAPI","GameEngine","constructor","deckAPI","undefined","hand","total","numericValue","c","values","value","start","deckId","newDeck","drawCard","doChecks","card","addCard","Error","cards","nCardsInHand","nCards"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,YAArB;AACA,OAAOC,OAAP,MAAoB,WAApB;AAEA,eAAe,MAAMC,UAAN,CAAiB;AAsB5BC,EAAAA,WAAW,GAAG;AAAA,SAJjBC,OAIiB,GAJPC,SAIO;AAAA,SAHjBC,IAGiB,GAHVD,SAGU;AAAA,SAFjBE,KAEiB,GAFTF,SAES;;AAAA,SAUjBG,YAViB,GAUDC,CAAD,IAAO;AAAE,aAAOP,UAAU,CAACQ,MAAX,CAAkBD,CAAC,CAACE,KAApB,CAAP;AAAoC,KAV3C;;AAAA,SAYjBC,KAZiB,GAYT,YAAY;AACnB,WAAKC,MAAL,GAAc,MAAM,KAAKT,OAAL,CAAaU,OAAb,EAApB;AACM,WAAKR,IAAL,GAAY,IAAIN,QAAJ,EAAZ;AACN,WAAKO,KAAL,GAAa,CAAb;AACA,KAhBgB;;AAAA,SAkBjBQ,QAlBiB,GAkBN,YAAY;AACtB,WAAKC,QAAL;AAEA,UAAIC,IAAI,GAAG,MAAM,KAAKb,OAAL,CAAaW,QAAb,EAAjB;AACA,WAAKT,IAAL,CAAUY,OAAV,CAAkBD,IAAlB;AACA,WAAKV,KAAL,IAAc,KAAKC,YAAL,CAAkBS,IAAlB,CAAd;AACA,KAxBgB;;AAChB,SAAKb,OAAL,GAAe,IAAIH,OAAJ,EAAf;AACG;;AAGJe,EAAAA,QAAQ,GAAG;AACV,QAAI,CAAE,KAAKV,IAAP,IAAe,KAAKC,KAAL,KAAeF,SAAlC,EACC,MAAMc,KAAK,CAAC,sDAAD,CAAX;AACD;;AAkBQ,MAALZ,KAAK,GAAG;AAAE,SAAKS,QAAL;AAAiB,WAAO,KAAKT,KAAZ;AAAoB;;AAC3C,MAAJD,IAAI,GAAG;AAAE,SAAKU,QAAL;AAAiB,WAAO,KAAKV,IAAL,CAAUc,KAAjB;AAAyB;;AACvC,MAAZC,YAAY,GAAG;AAAE,SAAKL,QAAL;AAAiB,WAAO,KAAKV,IAAL,CAAUgB,MAAjB;AAA0B;;AAlDjC;AAAXpB,U,CAEbQ,M,GAAS;AACf,OAAK,CADU;AAEf,OAAK,CAFU;AAGf,OAAK,CAHU;AAIf,OAAK,CAJU;AAKf,OAAK,CALU;AAMf,OAAK,CANU;AAOf,OAAK,CAPU;AAQf,OAAK,CARU;AASf,OAAK,EATU;AAUf,UAAQ,EAVO;AAWf,WAAS,EAXM;AAYf,UAAQ,EAZO;AAaf,SAAO;AAbQ,C","sourcesContent":["import CardHand from './CardHand';\nimport DeckAPI from './DeckAPI';\n\nexport default class GameEngine {\n\n\tstatic values = {\n\t\t\"2\": 2,\n\t\t\"3\": 3,\n\t\t\"4\": 4,\n\t\t\"5\": 5,\n\t\t\"6\": 6,\n\t\t\"7\": 7,\n\t\t\"8\": 8,\n\t\t\"9\": 9,\n\t\t\"0\": 10,\n\t\t\"JACK\": 10,\n\t\t\"QUEEN\": 10,\n\t\t\"KING\": 10, \n\t\t\"ACE\": 11\n\t};\n\n\tdeckAPI = undefined;\n\thand = undefined;\n\ttotal = undefined;\n\n    constructor() {\n\t\tthis.deckAPI = new DeckAPI();\n    }\n\n\n\tdoChecks() {\n\t\tif (! this.hand || this.total === undefined ) \n\t\t\tthrow Error(\"Must call start() before other methods on GameEngine\");\n\t}\n\n\tnumericValue = (c) => { return GameEngine.values[c.value]; }\n\n\tstart = async () => {\n\t\tthis.deckId = await this.deckAPI.newDeck();\n        this.hand = new CardHand();\n\t\tthis.total = 0;\n\t}\n\n\tdrawCard = async () => {\n\t\tthis.doChecks();\n\n\t\tlet card = await this.deckAPI.drawCard();\n\t\tthis.hand.addCard(card);\n\t\tthis.total += this.numericValue(card);\n\t}\n\n\tget total() { this.doChecks(); return this.total; }\n\tget hand() { this.doChecks(); return this.hand.cards; }\n\tget nCardsInHand() { this.doChecks(); return this.hand.nCards; }\n}\n\n\n\n\n\n\n\n\n\n"]},"metadata":{},"sourceType":"module"}