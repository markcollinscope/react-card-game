{"ast":null,"code":"import CardHand from './CardHand';\nimport DeckAPI from './DeckAPI';\nexport default class GameEngine {\n  constructor() {\n    this.deckAPI = undefined;\n    this.cardHand = undefined;\n    this.gameTotal = undefined;\n\n    this.doNumberValue = c => {\n      return GameEngine.values[c.value];\n    };\n\n    this.start = async () => {\n      this.deckId = await this.deckAPI.newDeck();\n      this.cardHand = new CardHand();\n      this.gameTotal = 0;\n    };\n\n    this.drawCard = async () => {\n      this.doChecks();\n      let card = await this.deckAPI.drawCard();\n      this.cardHand.addCard(card);\n      this.gameTotal += this.doNumberValue(card);\n    };\n\n    this.deckAPI = new DeckAPI();\n  }\n\n  doChecks() {\n    if (!this.cardHand || this.gameTotal === undefined) throw Error(\"Must call start() before other methods on GameEngine\");\n  }\n\n  get total() {\n    this.doChecks();\n    return this.gameTotal;\n  }\n\n  get hand() {\n    this.doChecks();\n    return this.cardHand.cards;\n  }\n\n  get nCardsInHand() {\n    this.doChecks();\n    return this.cardHand.nCards;\n  }\n\n}\nGameEngine.values = {\n  \"2\": 2,\n  \"3\": 3,\n  \"4\": 4,\n  \"5\": 5,\n  \"6\": 6,\n  \"7\": 7,\n  \"8\": 8,\n  \"9\": 9,\n  \"0\": 10,\n  \"JACK\": 10,\n  \"QUEEN\": 10,\n  \"KING\": 10,\n  \"ACE\": 11\n};","map":{"version":3,"sources":["/home/mark/GIT/GITHUB/react-card-game/src/GameEngine.js"],"names":["CardHand","DeckAPI","GameEngine","constructor","deckAPI","undefined","cardHand","gameTotal","doNumberValue","c","values","value","start","deckId","newDeck","drawCard","doChecks","card","addCard","Error","total","hand","cards","nCardsInHand","nCards"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,YAArB;AACA,OAAOC,OAAP,MAAoB,WAApB;AAEA,eAAe,MAAMC,UAAN,CAAiB;AAsB5BC,EAAAA,WAAW,GAAG;AAAA,SAJjBC,OAIiB,GAJPC,SAIO;AAAA,SAHjBC,QAGiB,GAHND,SAGM;AAAA,SAFjBE,SAEiB,GAFLF,SAEK;;AAAA,SASjBG,aATiB,GASAC,CAAD,IAAO;AAAE,aAAOP,UAAU,CAACQ,MAAX,CAAkBD,CAAC,CAACE,KAApB,CAAP;AAAoC,KAT5C;;AAAA,SAWjBC,KAXiB,GAWT,YAAY;AACnB,WAAKC,MAAL,GAAc,MAAM,KAAKT,OAAL,CAAaU,OAAb,EAApB;AACM,WAAKR,QAAL,GAAgB,IAAIN,QAAJ,EAAhB;AACN,WAAKO,SAAL,GAAiB,CAAjB;AACA,KAfgB;;AAAA,SAiBjBQ,QAjBiB,GAiBN,YAAY;AACtB,WAAKC,QAAL;AAEA,UAAIC,IAAI,GAAG,MAAM,KAAKb,OAAL,CAAaW,QAAb,EAAjB;AACA,WAAKT,QAAL,CAAcY,OAAd,CAAsBD,IAAtB;AACA,WAAKV,SAAL,IAAkB,KAAKC,aAAL,CAAmBS,IAAnB,CAAlB;AACA,KAvBgB;;AAChB,SAAKb,OAAL,GAAe,IAAIH,OAAJ,EAAf;AACG;;AAEJe,EAAAA,QAAQ,GAAG;AACV,QAAI,CAAE,KAAKV,QAAP,IAAmB,KAAKC,SAAL,KAAmBF,SAA1C,EACC,MAAMc,KAAK,CAAC,sDAAD,CAAX;AACD;;AAkBQ,MAALC,KAAK,GAAG;AAAE,SAAKJ,QAAL;AAAiB,WAAO,KAAKT,SAAZ;AAAwB;;AAC/C,MAAJc,IAAI,GAAG;AAAE,SAAKL,QAAL;AAAiB,WAAO,KAAKV,QAAL,CAAcgB,KAArB;AAA6B;;AAC3C,MAAZC,YAAY,GAAG;AAAE,SAAKP,QAAL;AAAiB,WAAO,KAAKV,QAAL,CAAckB,MAArB;AAA8B;;AAjDrC;AAAXtB,U,CAEbQ,M,GAAS;AACf,OAAK,CADU;AAEf,OAAK,CAFU;AAGf,OAAK,CAHU;AAIf,OAAK,CAJU;AAKf,OAAK,CALU;AAMf,OAAK,CANU;AAOf,OAAK,CAPU;AAQf,OAAK,CARU;AASf,OAAK,EATU;AAUf,UAAQ,EAVO;AAWf,WAAS,EAXM;AAYf,UAAQ,EAZO;AAaf,SAAO;AAbQ,C","sourcesContent":["import CardHand from './CardHand';\nimport DeckAPI from './DeckAPI';\n\nexport default class GameEngine {\n\n\tstatic values = {\n\t\t\"2\": 2,\n\t\t\"3\": 3,\n\t\t\"4\": 4,\n\t\t\"5\": 5,\n\t\t\"6\": 6,\n\t\t\"7\": 7,\n\t\t\"8\": 8,\n\t\t\"9\": 9,\n\t\t\"0\": 10,\n\t\t\"JACK\": 10,\n\t\t\"QUEEN\": 10,\n\t\t\"KING\": 10, \n\t\t\"ACE\": 11\n\t};\n\n\tdeckAPI = undefined;\n\tcardHand = undefined;\n\tgameTotal = undefined;\n\n    constructor() {\n\t\tthis.deckAPI = new DeckAPI();\n    }\n\n\tdoChecks() {\n\t\tif (! this.cardHand || this.gameTotal === undefined ) \n\t\t\tthrow Error(\"Must call start() before other methods on GameEngine\");\n\t}\n\n\tdoNumberValue = (c) => { return GameEngine.values[c.value]; }\n\n\tstart = async () => {\n\t\tthis.deckId = await this.deckAPI.newDeck();\n        this.cardHand = new CardHand();\n\t\tthis.gameTotal = 0;\n\t}\n\n\tdrawCard = async () => {\n\t\tthis.doChecks();\n\n\t\tlet card = await this.deckAPI.drawCard();\n\t\tthis.cardHand.addCard(card);\n\t\tthis.gameTotal += this.doNumberValue(card);\n\t}\n\n\tget total() { this.doChecks(); return this.gameTotal; }\n\tget hand() { this.doChecks(); return this.cardHand.cards; }\n\tget nCardsInHand() { this.doChecks(); return this.cardHand.nCards; }\n}\n\n\n\n\n\n\n\n\n\n"]},"metadata":{},"sourceType":"module"}